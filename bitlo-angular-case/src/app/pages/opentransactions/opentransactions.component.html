<app-header></app-header>
<app-loader [diameter]="100" *ngIf="loader"></app-loader>
<section class="container-opentransactions" [class.none]="loader">
    <div class="table-container">
        <div class="content-table">
            <h2 class="table-header">Açık Emirler</h2>
        </div>
        <table mat-table [dataSource]="openOrdersData" class="mat-elevation-z8" matSort #firstSort="matSort">
            <ng-container matColumnDef="marketCode">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> marketCode </th>
                <td mat-cell *matCellDef="let element"> {{element?.marketCode}} </td>
            </ng-container>

            <ng-container matColumnDef="orderSide">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> orderSide </th>
                <td mat-cell *matCellDef="let element"
                    [ngClass]="element?.orderSide === 'BUY' ? 'green-text' : 'red-text'">
                    {{ element?.orderSide }}
                </td>
            </ng-container>

            <ng-container matColumnDef="orderDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> orderDate </th>
                <td mat-cell *matCellDef="let element"> {{element?.orderDate}} </td>
            </ng-container>

            <ng-container matColumnDef="price">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Price </th>
                <td mat-cell *matCellDef="let element"> {{element?.price|number: '1.2-2'}} </td>
            </ng-container>

            <ng-container matColumnDef="orderAmount">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> orderAmount </th>
                <td mat-cell *matCellDef="let element"> {{element?.orderAmount|number: '1.2-2'}} </td>
            </ng-container>

            <ng-container matColumnDef="fillAmount">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> fillAmount </th>
                <td mat-cell *matCellDef="let element"> {{element?.fillAmount}} </td>
            </ng-container>

            <ng-container matColumnDef="fillPercent">
                <th mat-header-cell *matHeaderCellDef> fillPercent </th>
                <td mat-cell *matCellDef="let element"> %{{element?.fillAmount/element?.orderAmount|number:'2.2-2'}}
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

    </div>
</section>
<app-footer></app-footer>